import {Form, Input, Button, TextArea} from "semantic-ui-react";
import {useState} from "react";

const styles = {
    maxWidth: "800px",
    margin: "0 auto"
}

export default function Contact() {
    const [formData, setFormData] = useState({});

    function handleChange(e) {
        setFormData({...formData, [e.target.name]: e.target.value});
        console.log(formData);
    }

    function handleSubmit() {
        console.log(getErrors());
    }

    // returns empty array if there are no errors in form fields
    function getErrors() {
        const errors = [];

        if(!/\S+@\S\.\S/.test(formData.email))
            errors.push("Please enter a valid email address");

        if(formData.name.length === 0)
            errors.push("Please enter your name");
        
        if(formData.message.length === 0)
            errors.push("Please enter a message");
    }

    return (
        <Form onSubmit={handleSubmit} style={styles}>
            <Form.Group widths="equal">
                <Form.Field
                    id="form-control-name"
                    control={Input}
                    label="First name"
                    name="name"
                    onChange={handleChange}
                />
                <Form.Field
                    id="form-control-email"
                    control={Input}
                    label="Email"
                    name="email"
                    onChange={handleChange}
                />                
            </Form.Group>
            <Form.Field
                id="form-control-message"
                label="Enter a message"
                control={TextArea}
                name="message"
                onChange={handleChange}
            />
            <Button>Submit</Button>
        </Form>
    );
}